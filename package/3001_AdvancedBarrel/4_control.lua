-- ============================================================================================================================================
-- ============================================================================================================================================
-- ========== 定义信息 ========================================================================================================================
-- ============================================================================================================================================
-- ============================================================================================================================================

SIControl.Init
{
	[SICommon.Types.Recipe] =
	{
		BarrelFullPrefix = "灌装-"
	} ,
	[SICommon.Types.Technology] =
	{
		Barrel_1 = "灌装技术-1" ,
		Barrel_2 = "灌装技术-2" ,
		Barrel_3 = "灌装技术-3"
	}
}

SIAdvancedBarrel_TechnologyCheckList =
{
	{
		Name = SIConstants_AdvancedBarrel.raw.Technologies.Barrel_1 ,
		NeedEnabled = true ,
		ResearchUnitCount = 100 ,
		ResearchUnitEnergy = 20 ,
		ResearchUnitIngredients =
		{
			["automation-science-pack"] = 2 ,
			["logistic-science-pack"] = 2
		} ,
		Prerequisites =
		{
			"logistic-science-pack"
		}
	} ,
	{
		Name = SIConstants_AdvancedBarrel.raw.Technologies.Barrel_2 ,
		NeedEnabled = true ,
		ResearchUnitCount = 200 ,
		ResearchUnitEnergy = 40 ,
		ResearchUnitIngredients =
		{
			["automation-science-pack"] = 2 ,
			["logistic-science-pack"] = 2
		} ,
		Prerequisites =
		{
			"plastics" ,
			SIConstants_AdvancedBarrel.raw.Technologies.Barrel_1
		}
	} ,
	{
		Name = SIConstants_AdvancedBarrel.raw.Technologies.Barrel_3 ,
		NeedEnabled = true ,
		ResearchUnitCount = 400 ,
		ResearchUnitEnergy = 80 ,
		ResearchUnitIngredients =
		{
			["automation-science-pack"] = 2 ,
			["logistic-science-pack"] = 2 ,
			["chemical-science-pack"] = 2
		} ,
		Prerequisites =
		{
			"chemical-science-pack" ,
			SIConstants_AdvancedBarrel.raw.Technologies.Barrel_2
		}
	}
}

-- ============================================================================================================================================
-- ============================================================================================================================================
-- ========== 基础数据 ========================================================================================================================
-- ============================================================================================================================================
-- ============================================================================================================================================

-- ======================================================================
-- 初始化
-- ======================================================================

-- ======================================================================
-- 事件
-- ======================================================================

-- ============================================================================================================================================
-- ============================================================================================================================================
-- ========== 操作事件 ========================================================================================================================
-- ============================================================================================================================================
-- ============================================================================================================================================

-- ======================================================================
-- 事件
-- ======================================================================
SIEventBus
.Add( SIEvents.on_research_finished , function( event , functionID )
	local technology = event.research
	if not technology or not technology.valid then
		return
	end
	SIControl.ForceUnlockTechnologyList( technology.force , SIAdvancedBarrel_TechnologyCheckList )
end )
.Add( SIEvents.on_research_reversed , function( event , functionID )
	local technology = event.research
	if not technology or not technology.valid then
		return
	end
	SIControl.ForceUnlockTechnologyList( technology.force , SIAdvancedBarrel_TechnologyCheckList )
end )

-- ============================================================================================================================================
-- ============================================================================================================================================
-- ========== 外部接口 ========================================================================================================================
-- ============================================================================================================================================
-- ============================================================================================================================================

-- ======================================================================
-- 接口注册
-- ======================================================================
-- SINeed( "RemoteInterface" )